@page "/patient"
@using Appointment = SoVet.BlazorWebClient.Models.Appointment.Appointment
@using SoVet.BlazorWebClient.Models.Appointment

@inject ISnackbar Snackbar;

<MudTabs Rounded="true" Color="Color.Primary" ActivePanelIndexChanged="IndexChange">
    <MudTabPanel Text="История приемов" Icon="@Icons.Material.Filled.History">
        @if (_appointment is null)
        {
            <Appointments AppointmentSelect="x => _appointment = x"></Appointments>
        }
        else
        {
            <Appointment AppointmentTable="_appointment" AppointmentSelect="x => _appointment = x"></Appointment>
        }
    </MudTabPanel>
    <MudTabPanel Text="Вакцинации" Icon="@Icons.Material.Filled.Vaccines">

    </MudTabPanel>
    <MudTabPanel Text="Профиль" Icon="@Icons.Material.Filled.CrueltyFree">
        <PatientInfo></PatientInfo>
    </MudTabPanel>
</MudTabs>

@code {
    private AppointmentTable? _appointment;

    private void IndexChange(int n)
    {
        Snackbar.Add($"Test{n}", Severity.Error);
    }
}